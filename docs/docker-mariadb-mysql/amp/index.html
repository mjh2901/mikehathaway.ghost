<!DOCTYPE html>
<html ⚡>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <title>Docker, MariaDB, phpMyAdmin</title>

    <link rel="canonical" href="https://mikehathaway.com/docker-mariadb-mysql/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    
    <meta property="og:site_name" content="Mike Hathaway" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Docker, MariaDB, phpMyAdmin" />
    <meta property="og:description" content="Install MariaDB and phpMyAdmin using Docker &amp;amp; Portainer The LAMP stack is probably the most referred to stack for apps in setting up a web server.  Linux, Apache, MySQL, and PHP are the backbone or the basis of the backbone for most web applications out there.  A lot of admins" />
    <meta property="og:url" content="https://mikehathaway.com/docker-mariadb-mysql/" />
    <meta property="og:image" content="https://mikehathaway.com/content/images/2022/04/docker_mariadb_phpmyadmin.png" />
    <meta property="article:published_time" content="2022-04-16T22:39:30.000Z" />
    <meta property="article:modified_time" content="2022-04-16T22:42:37.000Z" />
    <meta property="article:tag" content="Docker" />
    <meta property="article:tag" content="Getting Started" />
    <meta property="article:tag" content="How To" />
    <meta property="article:tag" content="Portainer" />
    
    <meta property="article:publisher" content="https://www.facebook.com/mikehathaway" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Docker, MariaDB, phpMyAdmin" />
    <meta name="twitter:description" content="Install MariaDB and phpMyAdmin using Docker &amp;amp; Portainer The LAMP stack is probably the most referred to stack for apps in setting up a web server.  Linux, Apache, MySQL, and PHP are the backbone or the basis of the backbone for most web applications out there.  A lot of admins" />
    <meta name="twitter:url" content="https://mikehathaway.com/docker-mariadb-mysql/" />
    <meta name="twitter:image" content="https://mikehathaway.com/content/images/2022/04/docker_mariadb_phpmyadmin.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Mike Hathaway" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Docker, Getting Started, How To, Portainer" />
    <meta name="twitter:site" content="@mikehathaway" />
    <meta property="og:image:width" content="1920" />
    <meta property="og:image:height" content="1015" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Mike Hathaway",
        "url": "https://mikehathaway.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://mikehathaway.com/favicon.ico",
            "width": 48,
            "height": 48
        }
    },
    "author": {
        "@type": "Person",
        "name": "Mike Hathaway",
        "url": "https://mikehathaway.com/author/mike/",
        "sameAs": []
    },
    "headline": "Docker, MariaDB, phpMyAdmin",
    "url": "https://mikehathaway.com/docker-mariadb-mysql/",
    "datePublished": "2022-04-16T22:39:30.000Z",
    "dateModified": "2022-04-16T22:42:37.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://mikehathaway.com/content/images/2022/04/docker_mariadb_phpmyadmin.png",
        "width": 1920,
        "height": 1015
    },
    "keywords": "Docker, Getting Started, How To, Portainer",
    "description": "Install MariaDB and phpMyAdmin using Docker &amp; Portainer\n\nThe LAMP stack is probably the most referred to stack for apps in setting up a\nweb server.  Linux, Apache, MySQL, and PHP are the backbone or the basis of the\nbackbone for most web applications out there.  A lot of admins get started\ninstalling this basic setup.   With Docker the app is broken up into pieces, a\ncontainer for MySQL and Container for the app etc... \n\nMost Docker deployments require a database set up in the deployment script.",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://mikehathaway.com/"
    }
}
    </script>

    <meta name="generator" content="Ghost 4.41" />
    <link rel="alternate" type="application/rss+xml" title="Mike Hathaway" href="https://mikehathaway.com/rss/" />

    <style amp-custom>
    *,
    *::before,
    *::after {
        box-sizing: border-box;
    }

    html {
        overflow-x: hidden;
        overflow-y: scroll;
        font-size: 62.5%;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }

    body {
        min-height: 100vh;
        margin: 0;
        padding: 0;
        color: #3a4145;
        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;
        font-size: 1.7rem;
        line-height: 1.55em;
        font-weight: 400;
        font-style: normal;
        background: #fff;
        scroll-behavior: smooth;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    p,
    ul,
    ol,
    li,
    dl,
    dd,
    hr,
    pre,
    form,
    table,
    video,
    figure,
    figcaption,
    blockquote {
        margin: 0;
        padding: 0;
    }

    ul[class],
    ol[class] {
        padding: 0;
        list-style: none;
    }

    img {
        display: block;
        max-width: 100%;
    }

    input,
    button,
    select,
    textarea {
        font: inherit;
        -webkit-appearance: none;
    }

    fieldset {
        margin: 0;
        padding: 0;
        border: 0;
    }

    label {
        display: block;
        font-size: 0.9em;
        font-weight: 700;
    }

    hr {
        position: relative;
        display: block;
        width: 100%;
        height: 1px;
        border: 0;
        border-top: 1px solid currentcolor;
        opacity: 0.1;
    }

    ::selection {
        text-shadow: none;
        background: #cbeafb;
    }

    mark {
        background-color: #fdffb6;
    }

    small {
        font-size: 80%;
    }

    sub,
    sup {
        position: relative;
        font-size: 75%;
        line-height: 0;
        vertical-align: baseline;
    }
    sup {
        top: -0.5em;
    }
    sub {
        bottom: -0.25em;
    }

    ul li + li {
        margin-top: 0.6em;
    }

    a {
        color: var(--ghost-accent-color, #1292EE);
        text-decoration-skip-ink: auto;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        margin: 0;
        font-weight: 700;
        color: #121212;
        line-height: 1.4em;
    }

    h1 {
        font-size: 3.4rem;
        line-height: 1.1em;
    }

    h2 {
        font-size: 2.4rem;
        line-height: 1.2em;
    }

    h3 {
        font-size: 1.8rem;
    }

    h4 {
        font-size: 1.7rem;
    }

    h5 {
        font-size: 1.6rem;
    }

    h6 {
        font-size: 1.6rem;
    }

    amp-img {
        height: 100%;
        width: 100%;
        max-width: 100%;
        max-height: 100%;
    }

    amp-img img {
        object-fit: cover;
    }

    .page-header {
        padding: 50px 5vmin 30px;
        text-align: center;
        font-size: 2rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .page-header a {
        color: #121212;
        font-weight: 700;
        text-decoration: none;
        font-size: 1.6rem;
        letter-spacing: -0.1px;
    }

    .post {
        max-width: 680px;
        margin: 0 auto;
    }

    .post-header {
        margin: 0 5vmin 5vmin;
        text-align: center;
    }

    .post-meta {
        margin: 1rem 0 0 0;
        text-transform: uppercase;
        color: #738a94;
        font-weight: 500;
        font-size: 1.3rem;
    }

    .post-image {
        margin: 0 0 5vmin;
    }

    .post-image img {
        display: block;
        width: 100%;
        height: auto;
    }

    .post-content {
        padding: 0 5vmin;
    }

    .post-content > * + * {
        margin-top: 1.5em;
    }

    .post-content [id]:not(:first-child) {
        margin: 2em 0 0;
    }

    .post-content > [id] + * {
        margin-top: 1rem;
    }

    .post-content [id] + .kg-card,
    .post-content blockquote + .kg-card {
        margin-top: 40px;
    }

    .post-content > ul,
    .post-content > ol,
    .post-content > dl {
        padding-left: 1.9em;
    }

    .post-content hr {
        margin-top: 40px;
    }

    .post .post-content hr + * {
        margin-top: 40px;
    }

    .post-content amp-img {
        background-color: #f8f8f8;
    }

    .post-content blockquote {
        position: relative;
        font-style: italic;
    }

    .post-content blockquote::before {
        content: "";
        position: absolute;
        left: -1.5em;
        top: 0;
        bottom: 0;
        width: 0.3rem;
        background: var(--ghost-accent-color, #1292EE);
    }

    .post-content blockquote.kg-blockquote-alt {
        font-size: 1.2em;
        font-style: italic;
        line-height: 1.6em;
        text-align: center;
        color: #738a94;
        padding: 0.75em 3em 1.25em;
    }

    .post-content blockquote.kg-blockquote-alt::before {
        display: none;
    }

    .post-content :not(.kg-card):not([id]) + .kg-card {
        margin-top: 40px;
    }

    .post-content .kg-card + :not(.kg-card) {
        margin-top: 40px;
    }

    .kg-card figcaption {
        padding: 1.5rem 1.5rem 0;
        text-align: center;
        font-weight: 500;
        font-size: 1.3rem;
        line-height: 1.4em;
        opacity: 0.6;
    }

    .kg-card figcaption strong {
        color: rgba(0,0,0,0.8);
    }

    .post-content :not(pre) code {
        vertical-align: middle;
        padding: 0.15em 0.4em 0.15em;
        border: #e1eaef 1px solid;
        font-weight: 400;
        font-size: 0.9em;
        line-height: 1em;
        color: #15171a;
        background: #f0f6f9;
        border-radius: 0.25em;
    }

    .post-content > pre {
        overflow: scroll;
        padding: 16px 20px;
        color: #fff;
        background: #1F2428;
        border-radius: 5px;
        box-shadow: 0 2px 6px -2px rgba(0,0,0,.1), 0 0 1px rgba(0,0,0,.4);
    }

    .kg-embed-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
    }

    .kg-image-card img {
        margin: auto;
    }

    .kg-gallery-card + .kg-gallery-card {
        margin-top: 0.75em;
    }

    .kg-gallery-container {
        position: relative;
    }

    .kg-gallery-row {
        display: flex;
        flex-direction: row;
        justify-content: center;
    }

    .kg-gallery-image {
        width: 100%;
        height: 100%;
    }

    .kg-gallery-row:not(:first-of-type) {
        margin: 0.75em 0 0 0;
    }

    .kg-gallery-image:not(:first-of-type) {
        margin: 0 0 0 0.75em;
    }

    .kg-bookmark-card,
    .kg-bookmark-publisher {
        position: relative;
    }

    .kg-bookmark-container,
    .kg-bookmark-container:hover {
        display: flex;
        flex-wrap: wrap;
        flex-direction: row-reverse;
        color: currentColor;
        background: rgba(255,255,255,0.6);
        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;
        text-decoration: none;
        border-radius: 3px;
        box-shadow: 0 2px 6px -2px rgba(0, 0, 0, 0.1), 0 0 1px rgba(0, 0, 0, 0.4);
        overflow: hidden;
    }

    .kg-bookmark-content {
        flex-basis: 0;
        flex-grow: 999;
        padding: 20px;
        order: 1;
    }

    .kg-bookmark-title {
        font-weight: 600;
        font-size: 1.5rem;
        line-height: 1.3em;
    }

    .kg-bookmark-description {
        display: -webkit-box;
        max-height: 45px;
        margin: 0.5em 0 0 0;
        font-size: 1.4rem;
        line-height: 1.55em;
        overflow: hidden;
        opacity: 0.8;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
    }

    .kg-bookmark-metadata {
        margin-top: 20px;
    }

    .kg-bookmark-metadata {
        display: flex;
        align-items: center;
        font-weight: 500;
        font-size: 1.3rem;
        line-height: 1.3em;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .kg-bookmark-description {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
    }

    .kg-bookmark-metadata amp-img {
        width: 18px;
        height: 18px;
        max-width: 18px;
        max-height: 18px;
        margin-right: 10px;
    }

    .kg-bookmark-thumbnail {
        display: flex;
        flex-basis: 20rem;
        flex-grow: 1;
        justify-content: flex-end;
    }

    .kg-bookmark-thumbnail amp-img {
        max-height: 200px;
    }

    .kg-bookmark-author {
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
    }

    .kg-bookmark-publisher::before {
        content: "•";
        margin: 0 .5em;
    }

    .kg-toggle-card-icon {
        display: none;
    }

    .kg-toggle-content {
        margin-top: 0.8rem;
    }

    .kg-product-card-container {
        background: transparent;
        padding: 20px;
        width: 100%;
        border-radius: 5px;
        box-shadow: inset 0 0 0 1px rgb(124 139 154 / 25%);
    }

    .kg-product-card-description p {
        margin-top: 1.5em;
    }

    .kg-product-card-description ul {
        margin-left: 24px;
    }

    .kg-product-card-title {
        font-size: 1.9rem;
        font-weight: 700;
    }

    .kg-product-card-rating-star {
        height: 28px;
        width: 20px;
        margin-right: 2px;
    }

    .kg-product-card-rating-star svg {
    width: 16px;
    height: 16px;
    fill: currentColor;
    opacity: 0.15;
    }

    .kg-product-card-rating-active.kg-product-card-rating-star svg {
    opacity: 1;
    }

    .kg-nft-card-container {
        position: relative;
        display: flex;
        flex: auto;
        flex-direction: column;
        text-decoration: none;
        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;
        font-size: 1.4rem;
        font-weight: 400;
        box-shadow: 0 2px 6px -2px rgb(0 0 0 / 10%), 0 0 1px rgb(0 0 0 / 40%);
        width: 100%;
        max-width: 512px;
        color: #15212A;
        background: #fff;
        border-radius: 5px;
        transition: none;
        margin: 0 auto;
    }

    .kg-nft-metadata {
        padding: 2.0rem;
    }

    .kg-nft-image-container {
        position: relative;
    }

    .kg-nft-image {
        display: flex;
        border-radius: 5px 5px 0 0;
    }

    .kg-nft-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 20px;
    }

    .kg-nft-header h4.kg-nft-title {
        font-size: 1.9rem;
        font-weight: 700;
        margin: 0;
        color: #15212A;
    }

    .kg-nft-header amp-img {
        max-width: 114px;
        max-height: 26px;
    }

    .kg-nft-opensea-logo {
        margin-top: 2px;
        width: 100px;
    }

    .kg-nft-creator {
        font-family: inherit;
        color: #95A1AD;
    }

    .kg-nft-creator span {
        font-weight: 500;
        color: #15212A;
    }

    .kg-nft-card p.kg-nft-description {
        font-size: 1.4rem;
        line-height: 1.4em;
        margin: 2.0rem 0 0;
        color: #222;
    }

    .kg-button-card {
        display: flex;
        position: static;
        align-items: center;
        width: 100%;
        justify-content: center;
    }

    .kg-btn {
        display: flex;
        position: static;
        align-items: center;
        padding: 0 2.0rem;
        height: 4.0rem;
        line-height: 4.0rem;
        font-size: 1.65rem;
        font-weight: 600;
        text-decoration: none;
        border-radius: 5px;
        transition: opacity 0.2s ease-in-out;
    }

    .kg-btn:hover {
        opacity: 0.85;
    }

    .kg-btn-accent {
        background-color: var(--ghost-accent-color, #1292EE);
        color: #fff;
    }

    .kg-callout-card {
        display: flex;
        padding: 20px 28px;
        border-radius: 3px;
    }

    .kg-callout-card-grey {
        background: rgba(124, 139, 154, 0.13);
    }

    .kg-callout-card-white {
        background: transparent;
        box-shadow: inset 0 0 0 1px rgba(124, 139, 154, 0.25);
    }

    .kg-callout-card-blue {
        background: rgba(33, 172, 232, 0.12);
    }

    .kg-callout-card-green {
        background: rgba(52, 183, 67, 0.12);
    }

    .kg-callout-card-yellow {
        background: rgba(240, 165, 15, 0.13);
    }

    .kg-callout-card-red {
        background: rgba(209, 46, 46, 0.11);
    }

    .kg-callout-card-pink {
        background: rgba(225, 71, 174, 0.11);
    }

    .kg-callout-card-purple {
        background: rgba(135, 85, 236, 0.12);
    }

    .kg-callout-card-accent {
        background: var(--ghost-accent-color);
        color: #fff;
    }

    .kg-callout-card-accent a {
        color: #fff;
    }

    .kg-callout-emoji {
        padding-right: 16px;
        line-height: 1.3;
        font-size: 1.25em;
    }

    .kg-header-card {
        padding: 6em 3em;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
    }

    .kg-header-card.kg-size-small {
        padding-top: 4em;
        padding-bottom: 4em;
    }

    .kg-header-card.kg-size-large {
        padding-top: 12em;
        padding-bottom: 12em;
    }

    .kg-header-card.kg-width-full {
        padding-left: 4em;
        padding-right: 4em;
    }

    .kg-header-card.kg-align-left {
        text-align: left;
        align-items: flex-start;
    }

    .kg-header-card.kg-style-dark {
        background: #15171a;
        color: #ffffff;
    }

    .kg-header-card.kg-style-light {
        color: #15171a;
        border: 1px solid rgba(124, 139, 154, 0.25);
        border-width: 1px 0;
    }

    .kg-header-card.kg-style-accent {
        background-color: var(--ghost-accent-color);
    }

    .kg-header-card.kg-style-image {
        background-color: #e7e7eb;
        background-size: cover;
        background-position: center center;
    }

    .kg-header-card h2 {
        font-size: 4em;
        font-weight: 700;
        line-height: 1.1em;
        margin: 0;
    }

    .kg-header-card h2 strong {
        font-weight: 800;
    }

    .kg-header-card.kg-size-small h2 {
        font-size: 3em;
    }

    .kg-header-card.kg-size-large h2 {
        font-size: 5em;
    }

    .kg-header-card h3 {
        font-size: 1.25em;
        font-weight: 500;
        line-height: 1.3em;
        margin: 0;
    }

    .kg-header-card h3 strong {
        font-weight: 600;
    }

    .kg-header-card.kg-size-small h3 {
        font-size: 1em;
    }

    .kg-header-card.kg-size-large h3 {
        font-size: 1.5em;
    }

    .kg-header-card:not(.kg-style-light) h2,
    .kg-header-card:not(.kg-style-light) h3 {
        color: #ffffff;
    }

    .kg-header-card a.kg-header-card-button {
        display: flex;
        position: static;
        align-items: center;
        padding: 0 1.2em;
        height: 2.4em;
        line-height: 1em;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
        font-size: 0.95em;
        font-weight: 600;
        text-decoration: none;
        border-radius: 5px;
        transition: opacity 0.2s ease-in-out;
        background-color: var(--ghost-accent-color);
        color: #ffffff;
        margin: 1.75em 0 0;
    }

    .kg-header-card a.kg-header-card-button:hover {
        opacity: 0.85;
    }

    .kg-header-card.kg-size-large a.kg-header-card-button {
        margin-top: 2em;
    }

    .kg-header-card.kg-size-small a.kg-header-card-button {
        margin-top: 1.5em;
    }

    .kg-header-card.kg-style-image a.kg-header-card-button,
    .kg-header-card.kg-style-dark a.kg-header-card-button {
        background: #ffffff;
        color: #15171a;
    }

    .kg-header-card.kg-style-accent a.kg-header-card-button {
        background: #ffffff;
        color: var(--ghost-accent-color);
    }

    .kg-audio-card {
        display: flex;
        width: 100%;
        box-shadow: inset 0 0 0 1px rgba(124, 139, 154, 0.25);
    }

    .kg-audio-thumbnail {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 80px;
        min-width: 80px;
        height: 80px;
        background: transparent;
        object-fit: cover;
        aspect-ratio: 1/1;
        border-radius: 3px 0 0 3px;
    }

    .kg-audio-thumbnail.placeholder {
        background: var(--ghost-accent-color);
    }

    .kg-audio-thumbnail.placeholder svg {
        width: 24px;
        height: 24px;
        fill: white;
    }

    .kg-audio-player-container {
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        width: 100%;
        --seek-before-width: 0%;
        --volume-before-width: 100%;
        --buffered-width: 0%;
    }

    .kg-audio-title {
        width: 100%;
        padding: 8px 12px 0;
        border: none;
        font-family: inherit;
        font-size: 1.1em;
        font-weight: 700;
        background: transparent;
    }

    .kg-audio-player {
        display: none;
    }

    .kg-width-full.kg-card-hascaption {
        display: grid;
        grid-template-columns: inherit;
    }

    .post-content table {
        border-collapse: collapse;
        width: 100%;
    }

    .post-content th {
        padding: 0.5em 0.8em;
        text-align: left;
        font-size: .75em;
        text-transform: uppercase;
    }

    .post-content td {
        padding: 0.4em 0.7em;
    }

    .post-content tbody tr:nth-child(2n + 1) {
        background-color: rgba(0,0,0,0.1);
        padding: 1px;
    }

    .post-content tbody tr:nth-child(2n + 2) td:last-child {
        box-shadow:
            inset 1px 0 rgba(0,0,0,0.1),
            inset -1px 0 rgba(0,0,0,0.1);
    }

    .post-content tbody tr:nth-child(2n + 2) td {
        box-shadow: inset 1px 0 rgba(0,0,0,0.1);
    }

    .post-content tbody tr:last-child {
        border-bottom: 1px solid rgba(0,0,0,.1);
    }

    .page-footer {
        padding: 60px 5vmin;
        margin: 60px auto 0;
        text-align: center;
        background-color: #f8f8f8;
    }

    .page-footer h3 {
        margin: 0.5rem 0 0 0;
    }

    .page-footer p {
        max-width: 500px;
        margin: 1rem auto 1.5rem;
        font-size: 1.7rem;
        line-height: 1.5em;
        color: rgba(0,0,0,0.6)
    }

    .powered {
        display: inline-flex;
        align-items: center;
        margin: 30px 0 0;
        padding: 6px 9px 6px 6px;
        border: rgba(0,0,0,0.1) 1px solid;
        font-size: 12px;
        line-height: 12px;
        letter-spacing: -0.2px;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
        font-weight: 500;
        color: #222;
        text-decoration: none;
        background: #fff;
        border-radius: 6px;
    }

    .powered svg {
        height: 16px;
        width: 16px;
        margin: 0 6px 0 0;
    }

    @media (max-width: 600px) {
        body {
            font-size: 1.6rem;
        }
        h1 {
            font-size: 3rem;
        }

        h2 {
            font-size: 2.2rem;
        }
    }

    @media (max-width: 400px) {
        h1 {
            font-size: 2.6rem;
            line-height: 1.15em;
        }
        h2 {
            font-size: 2rem;
            line-height: 1.2em;
        }
        h3 {
            font-size: 1.7rem;
        }
    }

    :root {--ghost-accent-color: #000000;}
    </style>

    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>

    

</head>

<body class="amp-template">
    <header class="page-header">
        <a href="https://mikehathaway.com">
                Mike Hathaway
        </a>
    </header>

    <main class="content" role="main">
        <article class="post">

            <header class="post-header">
                <h1 class="post-title">Docker, MariaDB, phpMyAdmin</h1>
                <section class="post-meta">
                    Mike Hathaway -
                    <time class="post-date" datetime="2022-04-16">16 Apr 2022</time>
                </section>
            </header>
            <figure class="post-image">
                <amp-img src="https://mikehathaway.com/content/images/2022/04/docker_mariadb_phpmyadmin.png" width="600" height="340" layout="responsive"></amp-img>
            </figure>
            <section class="post-content">

                <p>Install MariaDB and phpMyAdmin using Docker &amp; Portainer</p><p>The LAMP stack is probably the most referred to stack for apps in setting up a web server.  Linux, Apache, MySQL, and PHP are the backbone or the basis of the backbone for most web applications out there.  A lot of admins get started installing this basic setup.   With Docker the app is broken up into pieces, a container for MySQL and Container for the app etc... </p><p>Most Docker deployments require a database set up in the deployment script.  The problem with this is if you are going to run multiple application containers with multiple databases the initial installers will just set up a new database server each time to the point where you have multiple MySQL servers containers on one machine.   Here we are going to set up one database server (MariaDB) and a GUI management system for the database (phpMyAdmin) they will run on their own internal network.  In future deployment posts, I will adjust the deployment scripts to use this one database server instead of spawning new ones.  For some containers, this is easy for others it's a pain.  </p><p>This article assumes you already have a Linux server running the latest version of Docker and Portainer.  Portainer is used to manage Docker containers and gives a good GUI for docker.  There is a tutorial to set up Docker and Portainer combo <a href="https://mikehathaway.com/rocky-linux/">here</a>. </p><p>We will go through several steps to create our MySQL / MariaDB environment.  First we will create a separate network in docker, then install MariaDB followed by phpMyAdmin to give us an interface for managing the databases.</p><p>Step 1:  Log into Portainer, Select Networks then select "+ Add network"</p><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-12.48.27-PM.png" class="kg-image" alt width="1201" height="686" srcset="https://mikehathaway.com/content/images/size/w600/2022/04/Screen-Shot-2022-04-16-at-12.48.27-PM.png 600w, https://mikehathaway.com/content/images/size/w1000/2022/04/Screen-Shot-2022-04-16-at-12.48.27-PM.png 1000w, https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-12.48.27-PM.png 1201w" layout="responsive"></amp-img></figure><p>Step 2:  Create a bridge network and name it something for our example we are naming the network "Static Bridge"</p><p>Set Driver to "Bridge"<br />Set Subnet to something we are using 172.20.0.1<br />Set the appropriate gateway</p><p>You should need to set nothing else verify and select the blue "Create the network" button at the bottom.</p><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-12.59.05-PM.png" class="kg-image" alt width="1201" height="686" srcset="https://mikehathaway.com/content/images/size/w600/2022/04/Screen-Shot-2022-04-16-at-12.59.05-PM.png 600w, https://mikehathaway.com/content/images/size/w1000/2022/04/Screen-Shot-2022-04-16-at-12.59.05-PM.png 1000w, https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-12.59.05-PM.png 1201w" layout="responsive"></amp-img></figure><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-12.53.02-PM.png" class="kg-image" alt width="1201" height="686" srcset="https://mikehathaway.com/content/images/size/w600/2022/04/Screen-Shot-2022-04-16-at-12.53.02-PM.png 600w, https://mikehathaway.com/content/images/size/w1000/2022/04/Screen-Shot-2022-04-16-at-12.53.02-PM.png 1000w, https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-12.53.02-PM.png 1201w" layout="responsive"></amp-img></figure><p>Step 3:  From your server command line run the following command to install MariaDB.  Be sure to change the root password to the password of your choice.  Also, Change the location of your MariaDB data by changing the "location on your server drive" to the desired storage location.  Depending on your installation you may or may not need to use the sudo command.</p><figure class="kg-card kg-code-card"><pre><code>sudo docker run -d --name mariadb \
-p 3306:3306 \
-e MYSQL_ROOT_PASSWORD=password \
-v /location on your servers drive/mariadb:/var/lib/mysql \
mariadb</code></pre><figcaption>c</figcaption></figure><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.15.06-PM.png" class="kg-image" alt width="1201" height="686" srcset="https://mikehathaway.com/content/images/size/w600/2022/04/Screen-Shot-2022-04-16-at-1.15.06-PM.png 600w, https://mikehathaway.com/content/images/size/w1000/2022/04/Screen-Shot-2022-04-16-at-1.15.06-PM.png 1000w, https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.15.06-PM.png 1201w" layout="responsive"></amp-img></figure><p>You should now have a MariaDB server container running in docker.</p><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.23.12-PM.png" class="kg-image" alt width="1201" height="686" srcset="https://mikehathaway.com/content/images/size/w600/2022/04/Screen-Shot-2022-04-16-at-1.23.12-PM.png 600w, https://mikehathaway.com/content/images/size/w1000/2022/04/Screen-Shot-2022-04-16-at-1.23.12-PM.png 1000w, https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.23.12-PM.png 1201w" layout="responsive"></amp-img></figure><p>Step 4:  Move your MariaDB server from the bind network to your Static Bind network.  This could be done in the docker run command but for this article, we will do it manually in Portainer.</p><p>From Portainer select your MariaDB container by its name.  From the resulting dialog select "Duplicate/Edit"</p><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.26.14-PM.png" class="kg-image" alt width="1201" height="686" srcset="https://mikehathaway.com/content/images/size/w600/2022/04/Screen-Shot-2022-04-16-at-1.26.14-PM.png 600w, https://mikehathaway.com/content/images/size/w1000/2022/04/Screen-Shot-2022-04-16-at-1.26.14-PM.png 1000w, https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.26.14-PM.png 1201w" layout="responsive"></amp-img></figure><p>Step 5:  Under Advanced container settings select "Network".  You are now going to set a static IP for your MariaDB server.  By setting a static IP whenever the server reboots it will have a consistent address instead of risking Dockers dhcp issuing a different address.  When running something like watcher that automatically updates and reboots containers this will prevent your database setup from "breaking" </p><p>Here we have set 3 things</p><p>Network = your static bridge network<br />Hostname = your containers name (this is optional)<br />IPv4 Address = an address in the static bridge network, I like to use .2 for the server and .3 for phpMyAdmin which we will be installing later.</p><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.30.39-PM.png" class="kg-image" alt width="1201" height="686" srcset="https://mikehathaway.com/content/images/size/w600/2022/04/Screen-Shot-2022-04-16-at-1.30.39-PM.png 600w, https://mikehathaway.com/content/images/size/w1000/2022/04/Screen-Shot-2022-04-16-at-1.30.39-PM.png 1000w, https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.30.39-PM.png 1201w" layout="responsive"></amp-img></figure><p>Step 5:  Select "Deploy Container". Which is above the advanced container settings and not below.</p><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.35.56-PM.png" class="kg-image" alt width="1201" height="686" srcset="https://mikehathaway.com/content/images/size/w600/2022/04/Screen-Shot-2022-04-16-at-1.35.56-PM.png 600w, https://mikehathaway.com/content/images/size/w1000/2022/04/Screen-Shot-2022-04-16-at-1.35.56-PM.png 1000w, https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.35.56-PM.png 1201w" layout="responsive"></amp-img></figure><p>Step 6: Select "Replace" when asked, "Are you sure?".  This will recreate your container to match your new settings.</p><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.36.57-PM.png" class="kg-image" alt width="1201" height="686" srcset="https://mikehathaway.com/content/images/size/w600/2022/04/Screen-Shot-2022-04-16-at-1.36.57-PM.png 600w, https://mikehathaway.com/content/images/size/w1000/2022/04/Screen-Shot-2022-04-16-at-1.36.57-PM.png 1000w, https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.36.57-PM.png 1201w" layout="responsive"></amp-img></figure><p>Note:  The MariaDB container now has a static IP address on a different subnet from the other Docker Containers.  Any container we create that needs to use MariaDB will need to also be on the Static Bridge network/subnet with the MariaDB Server.</p><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.37.15-PM.png" class="kg-image" alt width="1201" height="686" srcset="https://mikehathaway.com/content/images/size/w600/2022/04/Screen-Shot-2022-04-16-at-1.37.15-PM.png 600w, https://mikehathaway.com/content/images/size/w1000/2022/04/Screen-Shot-2022-04-16-at-1.37.15-PM.png 1000w, https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-1.37.15-PM.png 1201w" layout="responsive"></amp-img></figure><p>Now to install phpMyAdmin which will provide a GUI for managing the MariaDB server.  </p><p>Step 7: From the command line run the following docker command, be sure to change the 'ip address of MariaDB server' to the actual IP address of your MariaDB server.</p><pre><code>sudo docker run -d --name phpmyadmin \
-p 8080:80 \
-e PMA_HOST='ip address of mariadb server' \
-e PMA_PORT=3306 \
-e upload_limit=4096m \
-v /docker/mariadb:/var/lib/mysql \
phpmyadmin</code></pre><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-2.54.42-PM.png" class="kg-image" alt width="1201" height="686" srcset="https://mikehathaway.com/content/images/size/w600/2022/04/Screen-Shot-2022-04-16-at-2.54.42-PM.png 600w, https://mikehathaway.com/content/images/size/w1000/2022/04/Screen-Shot-2022-04-16-at-2.54.42-PM.png 1000w, https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-2.54.42-PM.png 1201w" layout="responsive"></amp-img></figure><p>Step 8:  Just like with the MariaDB server above edit the network of the phpmyadmin container to reflect your static bridge network. </p><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-2.53.07-PM.png" class="kg-image" alt width="1201" height="686" srcset="https://mikehathaway.com/content/images/size/w600/2022/04/Screen-Shot-2022-04-16-at-2.53.07-PM.png 600w, https://mikehathaway.com/content/images/size/w1000/2022/04/Screen-Shot-2022-04-16-at-2.53.07-PM.png 1000w, https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-2.53.07-PM.png 1201w" layout="responsive"></amp-img></figure><p>Step 9:  Launch your web browser and navigate to the IP address and port of your Docker &amp; phpMyAdmin server.  Log in using the root account and password you set for you MariaDB server.</p><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-2.55.16-PM.png" class="kg-image" alt width="1201" height="686" layout="responsive"></amp-img></figure><p>You now have a MariaDB server and a GUI system to manage the server.</p><figure class="kg-card kg-image-card"><amp-img src="https://mikehathaway.com/content/images/2022/04/Screen-Shot-2022-04-16-at-2.57.43-PM.png" class="kg-image" alt width="1347" height="833" layout="responsive"></amp-img></figure>

            </section>

        </article>
    </main>
    <footer class="page-footer">
        <h3>Mike Hathaway</h3>
            <p>Thoughts, ideas and code.</p>
        <p><a href="https://mikehathaway.com">Read more posts →</a></p>
        <a class="powered" href="https://ghost.org" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 156 156"><g fill="none" fill-rule="evenodd"><rect fill="#15212B" width="156" height="156" rx="27"/><g transform="translate(36 36)" fill="#F6F8FA"><path d="M0 71.007A4.004 4.004 0 014 67h26a4 4 0 014 4.007v8.986A4.004 4.004 0 0130 84H4a4 4 0 01-4-4.007v-8.986zM50 71.007A4.004 4.004 0 0154 67h26a4 4 0 014 4.007v8.986A4.004 4.004 0 0180 84H54a4 4 0 01-4-4.007v-8.986z"/><rect y="34" width="84" height="17" rx="4"/><path d="M0 4.007A4.007 4.007 0 014.007 0h41.986A4.003 4.003 0 0150 4.007v8.986A4.007 4.007 0 0145.993 17H4.007A4.003 4.003 0 010 12.993V4.007z"/><rect x="67" width="17" height="17" rx="4"/></g></g></svg> Published with Ghost</a>
    </footer>
    
</body>
</html>
